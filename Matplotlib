import numpy as np
import matplotlib.pyplot as plt


# Leer el archivo CSV
file_path = "ActuacionesBomberos_2025.csv"

data = np.genfromtxt(file_path,delimiter=';',  skip_header=1, dtype=str, encoding='utf-16')

# Extraer columnas necesarias
distritos = data[:, 2]
fuegos = data[:, 4].astype(float)
danos_construccion = data[:, 5].astype(float)
salvamentos = data[:, 6].astype(float)
incidentes = data[:, 8].astype(float)


# Tomamos los primeros 10 distritos para no saturar las gráficas
distritos = distritos[:10]
fuegos = fuegos[:10]
danos_construccion = danos_construccion[:10]
salvamentos = salvamentos[:10]
incidentes = incidentes[:10]


# Gráfico Dos líneas
plt.plot(distritos, fuegos, label="Fuegos", marker="o")
plt.plot(distritos, salvamentos, label="Salvamentos y Rescates", marker="s")
plt.xlabel("Distrito")
plt.ylabel("Número de actuaciones")
plt.title("Comparación de Fuegos y Salvamentos por Distrito")
plt.legend()
plt.grid(True)
plt.xticks(rotation=45)
plt.show()
plt.close()


# Gráfico Puntos individuales
plt.scatter(distritos, fuegos)
plt.xlabel("Distrito")
plt.ylabel("Número de fuegos")
plt.title("Fuegos por Distrito (Gráfico de puntos)")
plt.grid(True)
plt.xticks(rotation=45)
plt.show()



#Gráfico de barras (bar)
plt.bar(distritos, fuegos)
plt.xlabel("Distrito")
plt.ylabel("Número de fuegos")
plt.title("Fuegos por distrito")
plt.xticks(rotation=45)
plt.grid(True)
plt.show()

# Gráfico Tres Elementos
plt.plot(distritos, fuegos, 'r--',               # Rojo discontinua → fuegos
         distritos, salvamentos, 'bs',           # Azul con marcadores cuadrados → salvamentos
         distritos, incidentes, 'g^')            # Verde con triángulos → daños por agua
plt.xlabel("Distrito")
plt.ylabel("Número de actuaciones")
plt.title("Actuaciones de Bomberos por Distrito")
plt.legend(["Fuegos", "Salvamentos", "Incidentes"])
plt.grid(True)
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
plt.close()

# Extraer las columnas que necesitamos
fuegos_total = data[:, 4].astype(float)
salvamentos_total = data[:, 6].astype(float)


# Gráfico scatter
plt.figure(figsize=(8, 5))
plt.scatter(fuegos_total, salvamentos_total, c='green', label="Distritos")
plt.xlabel("Número de Fuegos")
plt.ylabel("Número de Salvamentos y Rescates")
plt.title("Relación entre Fuegos y Salvamentos en Distritos (2025)")
plt.legend()
plt.grid(True)
plt.show()


# Gráfica Histograma
plt.hist(danos_construccion, color='skyblue', edgecolor='black')
plt.xlabel("Número de daños en construcción")
plt.ylabel("Frecuencia")
plt.title("Distribución de daños en construcción (Histograma)")
plt.grid(True)
plt.show()



